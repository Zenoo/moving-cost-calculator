class MovingCostCalculator{constructor(target,parameters){if(this._wrapper=target instanceof Element?target:document.querySelector(target),!this._wrapper)throw new Error("MovingCostCalculator: "+("string"==typeof target?"The selector `"+target+"` didn't match any element.":"The element you provided was undefined"));if(this._wrapper.classList.contains("mcc-wrapper"))throw new Error("MovingCostCalculator: The element has already been initialized.");this._parameters={lang:"en",debug:!1,...parameters},this._loadDependencies().then(()=>{this._parameters.debug&&console.log("MovingCostCalculator: DEPENDENCIES LOADED !"),this._build(),this._listen()})}_loadDependencies(){this._parameters.debug&&console.log("MovingCostCalculator: LOADING DEPENDENCIES ...");const movingVolumeCalculatorDependency=new Promise(solve=>{if("function"==typeof MovingVolumeCalculator)solve();else{const movingVolumeCalculatorScript=new Promise(resolve=>{this._loadResource("script","https://gitcdn.link/repo/Zenoo/moving-volume-calculator/master/MovingVolumeCalculator.min.js",()=>{this._parameters.debug&&console.log("DEPENDENCIES: MovingVolumeCalculator script LOADED !"),resolve()})}),movingVolumeCalculatorStyle=new Promise(resolve=>{this._loadResource("style","https://gitcdn.link/repo/Zenoo/moving-volume-calculator/master/MovingVolumeCalculator.min.css",()=>{this._parameters.debug&&console.log("DEPENDENCIES: MovingVolumeCalculator style LOADED !"),resolve()})});Promise.all([movingVolumeCalculatorScript,movingVolumeCalculatorStyle]).then(()=>{solve()})}}),addressSearchDependency=new Promise(solve=>{if("function"==typeof AddressSearch)solve();else{const addressSearchScript=new Promise(resolve=>{this._loadResource("script","https://gitcdn.link/repo/Zenoo/address-search/master/address-search.min.js",()=>{this._parameters.debug&&console.log("DEPENDENCIES: AddressSearch script LOADED !"),resolve()})}),addressSearchStyle=new Promise(resolve=>{this._loadResource("style","https://gitcdn.link/repo/Zenoo/address-search/master/address-search.min.css",()=>{this._parameters.debug&&console.log("DEPENDENCIES: AddressSearch style LOADED !"),resolve()})});Promise.all([addressSearchScript,addressSearchStyle]).then(()=>{solve()})}});return Promise.all([movingVolumeCalculatorDependency,addressSearchDependency])}_loadResource(type,url,callback){const[head]=document.getElementsByTagName("head");if("script"==type){const script=document.createElement("script");script.src=url,script.onload=callback,head.appendChild(script)}else{const link=document.createElement("link");link.href=url,link.rel="stylesheet",link.type="text/css",link.onload=callback,head.appendChild(link)}}_loadDictionary(){this._dictionary={en:{},fr:{}},this._dictionary=Object.assign(this._dictionary,this._parameters.dictionary||{})}_build(){this._wrapper.classList.add("mcc-wrapper")}_listen(){}_translated(){return this._dictionary[this._parameters.lang]}setLang(lang){return this._parameters.lang=lang||"en",this}destroy(){this._wrapper.innerHTML="",this._wrapper.classList.remove("mcc-wrapper")}static destroy(selector){const element=document.querySelector(selector);element&&element.classList.contains("mcc-wrapper")&&(element.innerHTML="",element.classList.remove("mcc-wrapper"))}}